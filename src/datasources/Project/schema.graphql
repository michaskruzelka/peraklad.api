type Query {
    projectAccessTypes: [ProjectAccessType!]!
    defaultProjectAccessType: ProjectAccessType!
    imdbSubtitles(
        languages: [String!]! @stringLength(min: 2, max: 2)
        imdbId: String! @stringLength(min: 7, max: 9)
        season: Int @range(min: 0, max: 100)
        episode: Int @range(min: 0, max: 100)
        limit: Int @range(min: 0, max: 10)
    ): ImdbSubtitlesResponse
}

type ImdbSubtitlesResponse {
    service: SubtitlesSearchService!
    filesInfo: [ImdbSubtitlesFile]!
}

type ImdbSubtitlesFile {
    url: String!
    fileName: String!
    encoding: String!
    format: FileFormat!
    language: Language!
}

type SubtitlesSearchService {
    code: String!
    name: String!
}

type ProjectAccessType {
    id: Int!
    code: String!
    isDefault: Boolean!
}

type ProjectLevel {
    id: Int!
    code: String!
}

type ProjectSettings {
    abcId: Int!
    accessId: Int!
    access: ProjectAccessType!
        @cypher(statement: "WITH (this) RETURN { id: this.accessId }")
    spellingId: Int!
    statusId: Int!
}

interface Project {
    id: ID!
    name: String!
    level: ProjectLevel!
    createdAt: DateTime!
    updatedAt: DateTime!
    description: String
    settings: ProjectSettings
}

type MovieSubtitles implements Project {
    id: ID!
    name: String!
    level: ProjectLevel!
        @cypher(statement: "WITH (this) RETURN { id: this.level }")
    createdAt: DateTime!
    updatedAt: DateTime!
    description: String
    settings: ProjectSettings @relation(name: "HAS_SETTINGS", direction: OUT)
    # imdb: [IMDB] @relation(name: "HAS_INFO", direction: OUT)
    # resource: Resource @relation(name: "TRANSLATING", direction: OUT)
}

# type VideoStreamSubtitles implements Project {

# }
